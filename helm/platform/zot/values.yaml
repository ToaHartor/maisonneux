s3:
  bucketName: zot
  bucketQuota: 100000000000 # 100GB
zot:
  # see https://github.com/project-zot/helm-charts/blob/main/charts/zot/values.yaml
  replicaCount: 1
  resources:
    limits:
      cpu: 1
      memory: 100Mi
    requests:
      cpu: 100m
      memory: 50Mi
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0
      maxSurge: 1
  service:
    type: NodePort
    nodePort: 32000

  mountConfig: true
  configFiles:
    # Config example from https://github.com/project-zot/zot/tree/main/examples
    config.json: |-
      {
        "distSpecVersion": "1.1.0",
        "storage": {
          "rootDirectory": "/tmp/zot/s3"
        },
        "http": {
            "address": "0.0.0.0",
            "port": "5000",
            "compat": ["docker2s2"]
        },
        "log": { "level": "debug" }
      }
  
  metrics:
    enabled: true